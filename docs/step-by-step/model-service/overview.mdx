---
title: 'Overview'
---
# Model Service Documentation

This document outlines the `ModelService` class from the `model_service.ts` file, which is responsible for handling model-related operations, including loading models, processing data, and making predictions.

## Overview

The `ModelService` class interacts with TensorFlow models to predict various indicators based on yearly and monthly company data. It utilizes repositories to fetch company data and applies transformations to prepare the data for model predictions.

## Constructor

The constructor initializes the `yearlyRepository` and `monthlyRepository` with instances of `YearlyRepository` and `MonthlyRepository`, respectively.

## Methods

```typescript
loadClusterModel(cluster: string, model: ModelIndicator): Promise<tf.LayersModel>
```

Loads a TensorFlow Layers Model based on the provided cluster name and model indicator.

```typescript
resolveYearly(id: string): Promise<number[]>
```

Processes yearly company data by applying clamping, mean (`mea`) and standard deviation (`sds`) values, returning the processed data as an array of numbers.


```typescript 
resolveMonthly(id: string): Promise<number[]>
```

Similar to `resolveYearly`, this method processes monthly company data.

```typescript
handleId(id: string, maaProtsent?: number): Promise<any>
```

Predicts data for a given company identifier and optional land percentage, merging prediction results with company data.

```typescript
predictMonthlyGrowth(id: string, klaster: string): Promise<Prediction>
```

Predicts the monthly growth indicator for a given company identifier and cluster.

```typescript 
predictIndicator(id: string, klaster: string, indicator: ModelIndicator): Promise<Prediction>
```

Predicts an indicator based on the provided company identifier, cluster, and indicator type.

```typescript
predictionResponse(id: string, klaster: string): Promise<PredictionResponse>
```

Retrieves a comprehensive prediction response for a given company identifier and cluster, encompassing various indicators.

## Dependencies

- TensorFlow.js (`@tensorflow/tfjs-node`)
- Domain models (`ModelIndicator`, `PredictionResponse`, `Prediction`)
- Infrastructure repositories (`YearlyRepository`, `MonthlyRepository`)